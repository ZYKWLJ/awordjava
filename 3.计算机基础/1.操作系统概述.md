# 操作系统的功能

操作系统位于硬件资源之上，管理硬件资源; 应⽤程序之下，为应⽤程序提供服务，同时管理应⽤程序 

## 1、资源分配，资源回收 
计算机必要重要的硬件资源⽆⾮就是 CPU、内存、硬盘、I/O设备。
⽽这些资源总是有限的，因此需要有效管理，资源管理最终只有两个问题：**资源分配、资源回收**。 

资源分配： 体现在CPU上，⽐如进程调度，多个进程同时请求CPU下，**应该给哪⼀个进程呢**？再⽐如内存分配，内
存不够了怎么办？A进程⾮法访问了B进程的内存地址怎么办？内存内、外碎⽚问题等。 

资源回收： 考虑内存回收后的合并等等。 

## 2、为应⽤程序提供服务
操作系统将硬件资源的操作封装起来，提供相对统⼀的接⼝（系统调⽤）供开发者调⽤。 
如果没有操作系统，应⽤程序将直接⾯对硬件，除去给开发者带来的编程困难不说，直接访问硬件，使⽤不当极有
可能直接损坏硬件资源。

## 3、管理应⽤程序 
即控制进程的⽣命周期：进程开始时的环境配置和资源分配、进程结束后的资源回收、进程调度等。 

## 4、操作系统内核的功能
（1）进程调度能⼒： 管理进程、线程，决定哪个进程、线程使⽤CPU。 
（2）内存管理能⼒： 决定内存的分配和回收。 
（3）硬件通信能⼒： 管理硬件，为进程和硬件之间提供通信。 
（4）系统调⽤能⼒： 应⽤程序进⾏更⾼限权运⾏的服务，需要系统调⽤，⽤户程序和操作系统之间的接⼝。

----

# 操作系统的⻆⾊
## 1、管理者
主要分为：CPU管理、内存管理、外存管理、IO管理；以及⾃⼰的健壮性和安全性管理。 
健壮性，⼜称鲁棒性，即使很粗鲁的对待程序，它还是可以很好的运⾏。
## 2、魔术师:
⽐如操作系统会**让每个进程都觉得⾃⼰独占CPU、独占整⽚物理内存（具体来说，这是虚拟内存的假设）**，⽽实际上每个进程都只是在某⼀时间段内占⽤CPU，仅仅只是占⽤实际⼀点点物理内存。 

⽤户程序和操作系统之间是**相互调⽤**的关系

## 1、操作系统的⻆度
计算机启动后启动的第⼀个软件就是操作系统，随后启动的所有进程都运⾏在操作系统之上，使⽤操作系统提供的
服务，同时被操作系统监控，进程结束后也由操作系统回收。

## 2、进程⻆度
调⽤**操作系统提供的服务，实现⾃⼰的功能。**