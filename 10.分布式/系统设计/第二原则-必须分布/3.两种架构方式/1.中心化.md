# 分布式的两大思路：中心化+去中心化

# 一、中心化
# (一)引出
## 1.生活中的例子
  中心化思想是社会运作本质
   所谓“人以类聚，物以群分”，即使在曾经最为民主的雅典联邦制度下，大家也都是受着少数公众人物如梭伦、克利斯提尼与伯里克利等的影响;即使人类再自大，也改变不了地球围绕太阳转这一事实;即使放眼宇宙，每个星团都是有自己的“中心”的。
 映射到软件
## 2.中心化始终是主流设计
   既然中心化的思想这么普遍，而软件的运行方式与我们的工作方式又有相似性，那么，我们只要**弄明白为什么人类社会以某些人或组织为“中心”而运作**，就可以明白分布式架构设计里，为什么**中心化的设计自始至终都是一个主流设计了**。

----
# (二)分类
## ①监督+分发任务
### 1.领导的
#### 1.1监督厉害的，安排新任务
“领导”通常负责分发任务并监督“干活的”，**发现谁太闲了，就想方设法地给其安排新任务**，确保没有一个“干活的”能够偷懒；

#### 1.2监督病倒的，直接剔除
“领导”发现某个“干活的”因为劳累过度而病倒了，**则是不会考虑先尝试“医治”他的，而是一脚踢出去**，然后把他的任务分给其他人。

### 2.干活的
      有厉害的、病倒的之分
      全凭领导支配，毫无主观
### 实例
      Google最近开源的**基于容器技术的微服务架构Kubermetes** 就恰好采用了这一设计思路。

## ②仅监督不分发
### 1.领导的
只生成任务
领导充分相信每个“干活的”,**领导只负责任务的生成而不再指派任务**，由每个“干活的”自发去领任务，从而避免让个别员工积劳成疾，并鼓励能者多劳!

### 2.干活的
自发地去领任务做，能者多劳



# (三)中心化的问题

## 问题1.领导的安危
一旦出事则群龙无首
中心化的设计存在的最大问题是“领导”的安危问题，如果“领导”出了问题，则群龙无首，整个集群就崩溃了。
一山不容二虎
但我们难以同时安排两个“领导”以避免单点问题，是因为“一山不容二虎”。

### 解决方案：自动选举
为了解决`群龙无首`与`一山二虎`的问题，大多数中心化系统都采用了主备两个“领导”的设计方案，可以是热备或者冷备，也可以是自动切换或者手动切换，而且越来越多的新系统都开始具备自动选举切换“领导”的能力，以提升系统的可用性。

## 问题2.领导的能力
中心化设计还存在另外一个潜在的问题，即“领导”的能力问题：可以领导10个人高效工作并不意味着可以领导100个人高效工作，所以如果系统设计和实现得不好，**问题就会卡在领导身上**。

----