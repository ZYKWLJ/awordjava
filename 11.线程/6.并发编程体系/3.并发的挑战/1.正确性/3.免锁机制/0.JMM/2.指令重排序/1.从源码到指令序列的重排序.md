## 一、背景
从源代码到指令序列的重排序 在执行程序时，为了提高性能，编译器和处理器常常会对指令做重排序。 

重排序分3种类型：         

## 二、分类
从Java源代码到最终实际执行的指令序列，会分别经历下面3种重排序，如图:
![alt text](../../../../../img/指令重排序/从源码到指令的重排序过程图解.png)

---
### (1)编译器优化的重排序。 
编译器在**不改变单线程程序语义的前提(as-if-serial协议)**下，可以重新安排语句的执行顺序。         

---
### (2)指令级并行的重排序。 
现代处理器采用了**指令级并行技术(流水线)**来将**多条指令重叠执行**。如果不存在数据依赖性，处理器可以改变语句对应机器指令的执行顺序。         

---
### (3)内存系统的重排序。 
由于处理器使用缓存和读/写缓冲区，这使得加载和存储操作看上去可能是在乱序执行。 




